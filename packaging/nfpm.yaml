name: voxd
arch: ${ARCH}
version: ${VERSION}
release: "1"
section: utils
priority: optional
license: MIT
maintainer: "VOXD Maintainers <you@example.com>"
homepage: "https://github.com/jakovius/voxd"
description: "VOXD - voice typing on Linux (CLI/GUI/Tray/Flux)"
vendor: "VOXD"

contents:
  - src: src
    dst: /opt/voxd/src

  - src: pyproject.toml
    dst: /opt/voxd/pyproject.toml

  - src: README.md
    dst: /opt/voxd/README.md

  - src: LICENSE
    dst: /opt/voxd/LICENSE

  - src: THIRD_PARTY_LICENSES
    dst: /opt/voxd/THIRD_PARTY_LICENSES

  - src: setup.sh
    dst: /opt/voxd/setup.sh
    file_info:
      mode: 0755

  - src: uninstall.sh
    dst: /opt/voxd/uninstall.sh
    file_info:
      mode: 0755

  - src: packaging/voxd.wrapper
    dst: /usr/bin/voxd
    file_info:
      mode: 0755

  - src: packaging/99-uinput.rules
    dst: /etc/udev/rules.d/99-uinput.rules
    file_info:
      mode: 0644

overrides:
  deb:
    depends:
      - ffmpeg
      - cmake
      - curl
      - xclip
      - xsel
      - wl-clipboard
      - xdotool
      - python3-venv
      - libportaudio2
  rpm:
    depends:
      - ffmpeg
      - cmake
      - curl
      - xclip
      - xsel
      - wl-clipboard
      - xdotool
      - python3-virtualenv
      - portaudio
  archlinux:
    depends:
      - ffmpeg
      - cmake
      - curl
      - xclip
      - xsel
      - wl-clipboard
      - xdotool
      - python-virtualenv
      - portaudio

scripts:
  postinstall: ./postinstall.sh
  postremove: ./postremove.sh
